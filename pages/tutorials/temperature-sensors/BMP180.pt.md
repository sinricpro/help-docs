---
title: Tutorial de Sensor de Temperatura e Umidade para Sensor BMP180
layout: post
lang: pt
---

Nesta seção vamos criar um **Sensor de Temperatura** usando **ESP32**, **ESP8266** e depois visualizar a temperatura via **Alexa, Google Home ou SmartThings**.

### Pré-requisitos:

1. ESP32, ESP8266 x 1.
2. BMP180 x 1.
3. Cabos Jumper.

### Introdução rápida ao Sensor de Temperatura BMP180
O sensor BMP180 é um sensor digital de pressão barométrica e temperatura da Bosch. O sensor BMP180 pode medir pressão barométrica dentro de uma faixa de 300 a 1100 hPa (9000 m a -500 m acima do nível do mar) com uma precisão de ±0,12 hPa. Ele também pode medir temperatura dentro de uma faixa de -40 a +85 °C com uma precisão de ±2 °C. O sensor BMP180 se comunica com outros dispositivos usando a interface I2C. É um sensor de baixo consumo que consome apenas 3 μA em modo standby.


### Fiação para BMP180 com ESP8266

| ESP8266   | Pino BMP180    |
| 3.3V      |  Vin    |
| GND       |  GND    |
| SCL       |  5 (D1)     |
| SDA       |  4 (D2)     |

**Note que você deve usar os pinos I2C no ESP8266.**

![Sinric Pro ESP8266 I2C Pins]({{ site.github.url }}/public/img/sinricpro_esp8266_i2c_pins.png)

### Fiação para BMP180 com ESP32

| ESP32     | Pino BMP180    |
| --------- | ------- |
| 3.3V      |  Vin    |
| GND       |  GND    |
| SCL       |  22     |
| SDA       |  21     |

**Note que você deve usar os pinos I2C no ESP32.**

![Sinric Pro ESP32 I2C Pins ]({{ site.github.url }}/public/img/sinricpro_esp32_i2c_pins.png)

![Sinric Pro ESP32 I2C BMP180 Wiring ]({{ site.github.url }}/public/img/sinricpro_temperature_sensor_BMP180_Wiring.png)

Vamos verificar se a temperatura está conectada corretamente e funcionando.

### Passo 1: Instalar bibliotecas de suporte

1. Instalar a [biblioteca BMP_085](https://github.com/adafruit/Adafruit-BMP085-Library)
2. Instalar a [biblioteca Adafruit_Sensor](https://github.com/adafruit/Adafruit_Sensor)
3. Instalar a Biblioteca Sinric Pro

![Sinric Pro Install the BMP180 library ]({{ site.github.url }}/public/img/sinricpro_temperature_sensor_BMP180_libs.png)

<script src="https://gist.github.com/kakopappa/7dbc54e5385d57d181377248b0e5b4ee.js"></script>
 
### Passo 1: Criar um novo dispositivo no Sinric Pro

* [Faça login](http://portal.sinric.pro) na sua conta Sinric Pro, vá ao menu **Dispositivos** à esquerda e clique no botão **Adicionar Dispositivo** (no canto superior esquerdo).
* Digite o nome do dispositivo **Sensor de Temperatura**, descrição **Meu Sensor de Temperatura** e selecione o tipo de dispositivo como **Temperature Sensor**.

![Sinric Pro create device alexa]({{ site.github.url }}/public/img/sinric_pro_temperature_sensor_dht_tutorial_portal_new_device.png)

* Clique em **Próximo** na aba Notificações

![Sinric Pro temperature sensor device notifications]({{ site.github.url }}/public/img/sinric_pro_temperature_sensor_tutorial_device_notifications.png)

Você pode definir o limite aqui para receber uma notificação push via aplicativo Sinric Pro quando a temperatura ficar **abaixo** ou **acima** de uma certa temperatura. Use o Tempo de Re-disparo para definir o atraso entre notificações.

* Clique na aba Outros e Clique em **Salvar**

* A próxima tela mostrará as credenciais necessárias para conectar o dispositivo que você acabou de criar.

![Sinric Pro copy device id]({{ site.github.url }}/public/img/sinric-pro-create-device-keys.png)

* Copie o **ID do Dispositivo**, **Chave do App** e **Segredo do App** ***Mantenha esses valores seguros. NÃO OS COMPARTILHE EM FÓRUNS PÚBLICOS!***

### Passo 2: Conectar ao Sinric Pro
 
Você pode **gerar o código** usando o recurso **Zero Code** ou escrevê-lo você mesmo. Se você não tem experiência em programação, recomendamos usar o recurso Zero Code no Portal para gerar o código, baixar e carregar.

#### 2.1 Código Completo

<script src="https://gist.github.com/kakopappa/57f550927dce924244b9300d834be450.js"></script>  
 
 
Agora você deve conseguir visualizar a temperatura via App Sinric Pro
  
![Sinric Pro App Temperature Sensor]({{ site.github.url }}/public/img/sinric_pro_app_temperature_sensor.png)

Note que o aplicativo Google Home mostra o sensor de temperatura como um Termostato devido às limitações do Google Home.

### Solução de Problemas
1. Este tutorial é para BMP180. Certifique-se de que não é um módulo BME280.

2. Erro: **Could not find BMP180 sensor!**. É provável que você não tenha feito a fiação corretamente. Você pode executar o sketch [I2C scanner](https://learn.adafruit.com/scanning-i2c-addresses/arduino) para verificar se o sensor está conectado corretamente.
 
3. Consulte nossa página comum de [Solução de Problemas]({{ site.github.url }}/pt/pages/troubleshooting.pt.html) para mais detalhes.
 
> Este documento é código aberto. Viu um erro de digitação? Por favor, crie uma [issue](https://github.com/sinricpro/help-docs)