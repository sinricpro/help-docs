---
title: Tutorial de Sensor de Temperatura para DS18B20 e DS1822, DS1820, MAX31820, MAX31850
layout: post
lang: pt
---

Nesta seção vamos criar um **Sensor de Temperatura** usando **ESP32**, **ESP8266** e depois visualizar a temperatura via **Alexa, Google Home ou SmartThings**.

### Pré-requisitos:

1. ESP32, ESP8266 x 1.
2. DS18B20 ou DS1822, DS1820, MAX31820, MAX31850 x 1.
3. Resistor de 4.7k Ohm x 1
4. Cabos Jumper.

### Introdução rápida ao Sensor de Temperatura

O DS18B20 é um sensor de temperatura digital que se comunica através de um barramento 1-Wire. É uma escolha popular para muitas aplicações, incluindo automação residencial, monitoramento ambiental e automação industrial. O DS18B20 funciona medindo a resistência de um termistor. O termistor é um dispositivo semicondutor cuja resistência muda com a temperatura. O DS18B20 tem um ADC de 12 bits integrado que converte a resistência do termistor para um valor digital.

### Fiação

![Sinric Pro esp8266 DS18B20 wiring]({{ site.github.url }}/public/img/sinricpro_temperature_sensor_DS18B20_Wiring.png) 

**Se você estiver usando o DS18B20, conecte os pinos 1 e 3 ao terra. O pino central é a linha de dados '1-wire'.** 

| MCU       | Pino GPIO    |
| --------- | ------- |
| ESP32     |    16   |
| ESP8266   |    14 (D5)    |

Vamos verificar se a temperatura está conectada corretamente e funcionando.

<script src="https://gist.github.com/kakopappa/1df07c1d2eeb8e61d24a20aa95c68f5f.js"></script>

O Monitor Serial do Arduino IDE mostrará a temperatura atual assim

![Sinric Pro DS18B20 Temperature Sensor]({{ site.github.url }}/public/img/sinricpro_temperature_sensor_DS18B20_readings.png)

### Passo 1: Criar um novo dispositivo no Sinric Pro

* [Faça login](http://portal.sinric.pro) na sua conta Sinric Pro, vá ao menu **Dispositivos** à esquerda e clique no botão **Adicionar Dispositivo** (no canto superior esquerdo).
* Digite o nome do dispositivo **Sensor de Temperatura**, descrição **Meu Sensor de Temperatura** e selecione o tipo de dispositivo como **Temperature Sensor**.

![Sinric Pro create device alexa]({{ site.github.url }}/public/img/sinric_pro_temperature_sensor_dht_tutorial_portal_new_device.png)

* Clique em **Próximo** na aba Notificações

![Sinric Pro temperature sensor device notifications]({{ site.github.url }}/public/img/sinric_pro_temperature_sensor_tutorial_device_notifications.png)

Você pode definir o limite aqui para receber uma notificação push via aplicativo Sinric Pro quando a temperatura ficar **abaixo** ou **acima** de uma certa temperatura. Use o Tempo de Re-disparo para definir o atraso entre notificações.

* Clique na aba Outros e Clique em **Salvar**

* A próxima tela mostrará as credenciais necessárias para conectar o dispositivo que você acabou de criar.

![Sinric Pro copy device id]({{ site.github.url }}/public/img/sinric-pro-create-device-keys.png)

* Copie o **ID do Dispositivo**, **Chave do App** e **Segredo do App** ***Mantenha esses valores seguros. NÃO OS COMPARTILHE EM FÓRUNS PÚBLICOS!***

### Passo 2: Conectar ao Sinric Pro

#### Passo 2.1 Instalar a Biblioteca Sinric Pro

![Sinric Pro install SinricPro library]({{ site.github.url }}/public/img/sinricpro_arduinoIDE-library-manager.png)

Você pode **gerar o código** usando o recurso **Zero Code** ou escrevê-lo você mesmo. Se você não tem experiência em programação, recomendamos usar o recurso Zero Code no Portal para gerar o código, baixar e carregar.

#### 2.2 Código Completo
  
<script src="https://gist.github.com/kakopappa/1ceed5e5a1cfdfa2c1d044a3d117deb7.js"></script>

 
Agora você deve conseguir visualizar a temperatura via App Sinric Pro
  
![Sinric Pro App Temperature Sensor]({{ site.github.url }}/public/img/sinric_pro_app_temperature_sensor.png)

Note que o aplicativo Google Home mostra o sensor de temperatura como um Termostato devido às limitações do Google Home.

### Solução de Problemas

1. error: DallasTemperature.h: No such file or directory

    **Solução**: Certifique-se de que a biblioteca de temperatura correta está instalada. https://github.com/milesburton/Arduino-Temperature-Control-Library

2. Lendo valores inválidos como -127.00C, -196.60F, -127.00C, -196.60F

    **Solução**: Certifique-se de que você fez a fiação corretamente ou não tem conexão solta.

![Sinric Pro App Temperature Sensor]({{ site.github.url }}/public/img/sinricpro_temperature_sensor_DS18B20_invalid_readings.png)



2. Consulte nossa página de [Solução de Problemas]({{ site.github.url }}/pt/pages/troubleshooting.pt.html) para mais detalhes.

 
> Este documento é código aberto. Viu um erro de digitação? Por favor, crie uma [issue](https://github.com/sinricpro/help-docs)